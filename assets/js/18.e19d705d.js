(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{285:function(a,e,s){"use strict";s.r(e);var t=s(13),r=Object(t.a)({},(function(){var a=this,e=a._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("h1",{attrs:{id:"_1-什么是redis"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-什么是redis"}},[a._v("#")]),a._v(" 1.什么是Redis？")]),a._v(" "),e("p",[a._v("非关系数据库，key-value模式存数据。")]),a._v(" "),e("h1",{attrs:{id:"_2-适用场景"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-适用场景"}},[a._v("#")]),a._v(" 2.适用场景")]),a._v(" "),e("p",[a._v("1.取最新的数据")]),a._v(" "),e("p",[a._v("2.热搜")]),a._v(" "),e("p",[a._v("3.登录信息过期")]),a._v(" "),e("p",[a._v("4.分布式下新增id，全局唯一")]),a._v(" "),e("p",[a._v("redis 单线程")]),a._v(" "),e("p",[a._v("5.网站的用户分布在哪几个省 set排重")]),a._v(" "),e("h1",{attrs:{id:"_3-特点"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-特点"}},[a._v("#")]),a._v(" 3.特点")]),a._v(" "),e("p",[a._v("1.高效")]),a._v(" "),e("p",[a._v("因为放到内存")]),a._v(" "),e("p",[a._v("2.原子性")]),a._v(" "),e("p",[a._v("主逻辑线程是单线程")]),a._v(" "),e("p",[a._v("3.支持多种数据结构")]),a._v(" "),e("p",[a._v("string")]),a._v(" "),e("p",[a._v('list    a--\x3e ["hello", "2"]  消息队列')]),a._v(" "),e("p",[a._v("hash  就是map 购物车")]),a._v(" "),e("p",[a._v("set     去重")]),a._v(" "),e("p",[a._v("zset    热搜 排行榜")]),a._v(" "),e("p",[a._v("4.稳定性 定期将数据存到硬盘（持久化）")]),a._v(" "),e("p",[a._v("5.其他：支持过期时间（登录状态过期），支持事务，消息订阅")]),a._v(" "),e("h1",{attrs:{id:"_4-使用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-使用"}},[a._v("#")]),a._v(" 4.使用")]),a._v(" "),e("p",[a._v("启动服务端")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("1.启动：cmd redis-server.exe redis.windows.conf\n2.默认端口：6379\n打开\n\tcd /export/server/redis-6.2.6/  \n\tbin/redis-server redis.conf  \n关闭\n\tcd /export/server/redis-6.2.6/ \n \tbin/redis-cli  -h 192.168.157.132 shutdown  \n")])])]),e("p",[a._v("连接客户端")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("启动：cmd redis-cli.exe -h localhost -p 6379 \n")])])]),e("p",[a._v("连接redis客户端")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("cd  /export/server/redis-6.2.6/  \nbin/redis-cli -h 192.168.157.132 -p 6379\n")])])]),e("p",[a._v("linux中配置的")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("192.168.157.132\n")])])]),e("h1",{attrs:{id:"_5-数据类型"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5-数据类型"}},[a._v("#")]),a._v(" 5.数据类型")]),a._v(" "),e("h2",{attrs:{id:"string"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#string"}},[a._v("#")]),a._v(" string")]),a._v(" "),e("div",{staticClass:"language-redis extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("1.设值 取值\nset key value\nget key\n2.批量\nmset mget 操作多组数据\nmset key1 value1 key2 value2\nmget key1 key2\n3.查询所有的key值\nkeys * \n4.当key不存在时设置值\nsetnx key value、\n5.增1减1\n将key的value值加1\nincr id\ndecr id\n")])])]),e("h2",{attrs:{id:"list"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#list"}},[a._v("#")]),a._v(" list")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("1.设置值 插入头部  注意左边是头部 0 1 2 3 4\nlpush list1 1 2 3 zc 插到头部\nrpush list2 1 插到尾部\n2.查看数据\nlrange list1 0 -1 全看\nlrange list1 start end\n3.根据索引获取value\nlindex list2 1\n4.删除数据\nlpop list2\nrpop list2\n\n")])])]),e("h2",{attrs:{id:"set"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#set"}},[a._v("#")]),a._v(" set")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("1.添加数据\nsadd set1 1 2 3\n2.获取数据\nsmembers set1\n3.获取长度\nscard set1\n4.常见的业务\n统计当天登录用户数\nsadd uv:today 001 002\nscard set1\n")])])]),e("h2",{attrs:{id:"hash"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#hash"}},[a._v("#")]),a._v(" hash")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("hash适合存储对象\n1.设置值 获取值\nhset user name zch\nhset user age 20\nhget user name\n2.批量\nhmset user name zch age 11\nhmget user name age \n3.获取所有的key\nhkeys user\n4.获取所有的值\nhvals user\n5.增1减1\nhincrby user age 1\n1可以为 2 或者 -1\n")])])]),e("h2",{attrs:{id:"zset"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#zset"}},[a._v("#")]),a._v(" zset")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("有序的集合 根据设置的权重来排序 应用：排行榜\n1.添加\nzadd pv 100 page1.html 200 page2.html\n2.查看权重\nzscore pv page1.html\n3.获取有序集合的成员数\nzcard pv\n4.查询权重范围的数量\nzcount pv min max\n5.增加权重\nzincrby pv 1 page1.html\n6.并集\nzinterstore pv_result pv pv1 放到pv_result里面\n7.查看列表 默认权重低到高 \nzrange pv 0 -1\n8.查看列表 高到低\nzrevrange pv 0 -1\n\n")])])]),e("h2",{attrs:{id:"key-对key的操作"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#key-对key的操作"}},[a._v("#")]),a._v(" key 对key的操作")]),a._v(" "),e("p",[a._v("​")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("1.查询所有的key\nkeys * \n注意代码里面不要用，通select * from table 一样\n2.删除\ndel testname\n3.检查是否存在key\nexiste testname\n4.给key设置过期时间 单位是s\nexpire testname 4\t4s后过期\n5.查看还有多久过期\npttl testname\n6.从当前数据库中随机放回一个key\nrandomkey\n7.返回key的value值类型\ntype testname\n")])])]),e("h2",{attrs:{id:"bitmaps"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#bitmaps"}},[a._v("#")]),a._v(" bitmaps")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("在string中拓展而来的\n业务：记录用户今天是否登录网站\n1.设置值\nsetbit dengluuser 0 1 第0号用户登录了\n2.获取值\ngetbit dengluuser 0 \n3.获取指定范围内值为1的个数\nbitcount dengluuser start end\n4.求交集、并集\nhttps://www.ydlclass.com/doc21xnv/frame/redis/\n")])])]),e("h2",{attrs:{id:"hyperloglog"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#hyperloglog"}},[a._v("#")]),a._v(" HyperLogLog")]),a._v(" "),e("h1",{attrs:{id:"_6-java操作redis"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6-java操作redis"}},[a._v("#")]),a._v(" 6.java操作redis")]),a._v(" "),e("h1",{attrs:{id:"_7-redis事务"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_7-redis事务"}},[a._v("#")]),a._v(" 7.redis事务")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("multi、exec、discard、watch、unwatch\n关键点：\n1.语法错误，语法错误说明在命令入队前就进行检测的，直接没运行，保持原值\n2.类型错误（运行时错误）运行错误，跳过错误命令继续执行。\n3.为什么Redis不支持事务回滚？\n  提升性能\n")])])]),e("h1",{attrs:{id:"_8-高级操作"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_8-高级操作"}},[a._v("#")]),a._v(" 8.高级操作")]),a._v(" "),e("h2",{attrs:{id:"_1-数据删除策略"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-数据删除策略"}},[a._v("#")]),a._v(" 1.数据删除策略")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("数据存放在内存，内存中的数据可以通过TTL指令获取其状态\nttl返回值：正数，-1：,-2\n正数：还能存活的时间\n-1：永久有效\n-2：已经过期的数据 或被删除的数据 或 未定义的数据\n定时删除:过期就删除\n惰性删除:到达过期时间，不做处理\n\t\t下次访问该数据 : \n\t\t1.如果未过期，返回数据\n\t\t2.发现已过期，删除，返回不存在\n定期删除:周期性抽查存储空间（随机抽查，重点抽查）\n")])])]),e("h2",{attrs:{id:"_2-数据淘汰策略"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-数据淘汰策略"}},[a._v("#")]),a._v(" 2.数据淘汰策略")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("内存不足了，redis要临时删除一些数据\n")])])])])}),[],!1,null,null,null);e.default=r.exports}}]);